{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n// import '../components/searchdishes.css';\n// import { addToCart } from './reducer';\n// import { useDispatch } from 'react-redux';\n// import ScrollToTopButton from './scrolltop';\n\n// function SearchDishes() {\n//     const [dishName, setDishName] = useState('');\n//     const [dishes, setDishes] = useState([]);\n//     const [quantities, setQuantities] = useState({}); // State for quantities\n\n//     const dispatch = useDispatch();\n//     const navigate = useNavigate();\n\n//     useEffect(() => {\n//         if (dishName.length > 2) {\n//             axios\n//                 .get(\n//                     `https://www.swiggy.com/dapi/restaurants/search/v3?lat=17.372040&lng=78.43780\n//                     &str=${dishName}&trackingId=undefined&submitAction=SUGGESTION&queryUniqueId=e8f976e5-270e-3d4d-aca0-573a2513c73a`\n//                 )\n//                 .then((res) => {\n//                     if (\n//                         res.data.data?.cards[1]?.groupedCard?.cardGroupMap?.DISH &&\n//                         res.data.data.cards[1].groupedCard.cardGroupMap.DISH.cards.length > 1\n//                     ) {\n//                         setDishes(res.data.data?.cards[1]?.groupedCard?.cardGroupMap.DISH.cards.slice(1));\n//                     }\n//                 });\n//         }\n//     }, [dishName]);\n\n//     const handleQuantityChange = (id, value) => {\n//         setQuantities({ ...quantities, [id]: value });\n//     };\n\n//     return (\n//         <div>\n//             <div style={{ textAlign: 'center' }}>\n//                 <h2>Search Dishes</h2>\n//                 <form className=\"d-flex justify-content-center\" role=\"search\">\n//                     <div className=\"col-md-6 col-lg-4 m-2 clearable-input\">\n//                         <input\n//                             className=\"form-control\"\n//                             value={dishName}\n//                             onChange={(e) => {\n//                                 setDishName(e.target.value);\n//                             }}\n//                             type=\"search\"\n//                             placeholder=\"Search the dishes\"\n//                             aria-label=\"Search\"\n//                         />\n//                     </div>\n//                 </form>\n//             </div>\n//             <br />\n//             <div className=\"container\">\n//                 <div className=\"row row-cols-1 row-cols-md-2 g-2\">\n//                     {dishes.map((item, i) => {\n//                         const dishId = item?.card?.card?.info?.id;\n//                         const quantity = quantities[dishId] || 1; // Default quantity is 1\n\n//                         return (\n//                             <div className=\"col\" key={i}>\n//                                 <div className=\"card h-100 p-4\" id=\"dishescard\">\n//                                     <h1 className=\"card-title\" id=\"restaurantname\">\n//                                         {item?.card?.card?.restaurant?.info?.name}\n//                                     </h1>\n//                                     <h6 className=\"card-rating\">Rating, Time to deliver</h6>\n//                                     <h5 className=\"card-rating\">&#8377;{item?.card?.card?.info?.price / 100}</h5>\n//                                     <div>\n//                                         <button\n//                                             className=\"restaurant-view\"\n//                                             onClick={() => {\n//                                                 navigate(\n//                                                     `/restaurant/${item?.card?.card?.restaurant?.info?.id}/${item?.card?.card?.restaurant?.info?.name}`\n//                                                 );\n//                                             }}\n//                                         >\n//                                             View Restaurant\n//                                         </button>\n//                                     </div>\n//                                     <div className=\"row\">\n//                                         <div className=\"col-6\">\n//                                             <img\n//                                                 src={`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_600/${item?.card?.card?.info?.imageId}`}\n//                                                 className=\"card-img-top h-10\"\n//                                                 alt=\"...\"\n//                                             />\n//                                         </div>\n//                                         <div className=\"card-body col-6\">\n//                                             <h5 className=\"card-title\">{item?.card?.card?.info?.name}</h5>\n//                                             <p className=\"card-text\" id=\"card-desc\">\n//                                                 {item?.card?.card?.info?.description}\n//                                             </p>\n//                                             <input\n//                                                 type=\"number\"\n//                                                 value={quantity}\n//                                                 onChange={(e) => handleQuantityChange(dishId, parseInt(e.target.value))}\n//                                             />\n//                                             <br />\n//                                             <br />\n//                                             <button\n//                                                 onClick={() => {\n//                                                     dispatch(\n//                                                         addToCart({\n//                                                             Name: item?.card?.card?.info?.name,\n//                                                             Description: item?.card?.card?.info?.description,\n//                                                             Price: item?.card?.card?.info?.price / 100,\n//                                                             Img: `https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_600/${item?.card?.card?.info?.imageId}`,\n//                                                             Quantity: quantity,\n//                                                             RestaurantName: item?.card?.card?.restaurant?.info?.name, // Include RestaurantName\n//                                                         })\n//                                                     );\n//                                                     setQuantities({ ...quantities, [dishId]: 1 }); // Reset quantity after adding to cart\n//                                                 }}\n//                                                 className=\"restaurant-view\"\n//                                             >\n//                                                 Add to cart\n//                                             </button>\n//                                         </div>\n//                                     </div>\n//                                 </div>\n//                             </div>\n//                         );\n//                     })}\n//                 </div>\n//             </div>\n//             <ScrollToTopButton />\n//         </div>\n//     );\n// }\n\n// export default SearchDishes;","map":{"version":3,"names":[],"sources":["C:/Users/SANTHOSH/React_Applications/swiggy/src/components/searchdishes.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import '../components/searchdishes.css';\r\n// import { addToCart } from './reducer';\r\n// import { useDispatch } from 'react-redux';\r\n// import ScrollToTopButton from './scrolltop';\r\n\r\n// function SearchDishes() {\r\n//     const [dishName, setDishName] = useState('');\r\n//     const [dishes, setDishes] = useState([]);\r\n//     const [quantities, setQuantities] = useState({}); // State for quantities\r\n\r\n//     const dispatch = useDispatch();\r\n//     const navigate = useNavigate();\r\n\r\n//     useEffect(() => {\r\n//         if (dishName.length > 2) {\r\n//             axios\r\n//                 .get(\r\n//                     `https://www.swiggy.com/dapi/restaurants/search/v3?lat=17.372040&lng=78.43780\r\n//                     &str=${dishName}&trackingId=undefined&submitAction=SUGGESTION&queryUniqueId=e8f976e5-270e-3d4d-aca0-573a2513c73a`\r\n//                 )\r\n//                 .then((res) => {\r\n//                     if (\r\n//                         res.data.data?.cards[1]?.groupedCard?.cardGroupMap?.DISH &&\r\n//                         res.data.data.cards[1].groupedCard.cardGroupMap.DISH.cards.length > 1\r\n//                     ) {\r\n//                         setDishes(res.data.data?.cards[1]?.groupedCard?.cardGroupMap.DISH.cards.slice(1));\r\n//                     }\r\n//                 });\r\n//         }\r\n//     }, [dishName]);\r\n\r\n//     const handleQuantityChange = (id, value) => {\r\n//         setQuantities({ ...quantities, [id]: value });\r\n//     };\r\n\r\n//     return (\r\n//         <div>\r\n//             <div style={{ textAlign: 'center' }}>\r\n//                 <h2>Search Dishes</h2>\r\n//                 <form className=\"d-flex justify-content-center\" role=\"search\">\r\n//                     <div className=\"col-md-6 col-lg-4 m-2 clearable-input\">\r\n//                         <input\r\n//                             className=\"form-control\"\r\n//                             value={dishName}\r\n//                             onChange={(e) => {\r\n//                                 setDishName(e.target.value);\r\n//                             }}\r\n//                             type=\"search\"\r\n//                             placeholder=\"Search the dishes\"\r\n//                             aria-label=\"Search\"\r\n//                         />\r\n//                     </div>\r\n//                 </form>\r\n//             </div>\r\n//             <br />\r\n//             <div className=\"container\">\r\n//                 <div className=\"row row-cols-1 row-cols-md-2 g-2\">\r\n//                     {dishes.map((item, i) => {\r\n//                         const dishId = item?.card?.card?.info?.id;\r\n//                         const quantity = quantities[dishId] || 1; // Default quantity is 1\r\n\r\n//                         return (\r\n//                             <div className=\"col\" key={i}>\r\n//                                 <div className=\"card h-100 p-4\" id=\"dishescard\">\r\n//                                     <h1 className=\"card-title\" id=\"restaurantname\">\r\n//                                         {item?.card?.card?.restaurant?.info?.name}\r\n//                                     </h1>\r\n//                                     <h6 className=\"card-rating\">Rating, Time to deliver</h6>\r\n//                                     <h5 className=\"card-rating\">&#8377;{item?.card?.card?.info?.price / 100}</h5>\r\n//                                     <div>\r\n//                                         <button\r\n//                                             className=\"restaurant-view\"\r\n//                                             onClick={() => {\r\n//                                                 navigate(\r\n//                                                     `/restaurant/${item?.card?.card?.restaurant?.info?.id}/${item?.card?.card?.restaurant?.info?.name}`\r\n//                                                 );\r\n//                                             }}\r\n//                                         >\r\n//                                             View Restaurant\r\n//                                         </button>\r\n//                                     </div>\r\n//                                     <div className=\"row\">\r\n//                                         <div className=\"col-6\">\r\n//                                             <img\r\n//                                                 src={`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_600/${item?.card?.card?.info?.imageId}`}\r\n//                                                 className=\"card-img-top h-10\"\r\n//                                                 alt=\"...\"\r\n//                                             />\r\n//                                         </div>\r\n//                                         <div className=\"card-body col-6\">\r\n//                                             <h5 className=\"card-title\">{item?.card?.card?.info?.name}</h5>\r\n//                                             <p className=\"card-text\" id=\"card-desc\">\r\n//                                                 {item?.card?.card?.info?.description}\r\n//                                             </p>\r\n//                                             <input\r\n//                                                 type=\"number\"\r\n//                                                 value={quantity}\r\n//                                                 onChange={(e) => handleQuantityChange(dishId, parseInt(e.target.value))}\r\n//                                             />\r\n//                                             <br />\r\n//                                             <br />\r\n//                                             <button\r\n//                                                 onClick={() => {\r\n//                                                     dispatch(\r\n//                                                         addToCart({\r\n//                                                             Name: item?.card?.card?.info?.name,\r\n//                                                             Description: item?.card?.card?.info?.description,\r\n//                                                             Price: item?.card?.card?.info?.price / 100,\r\n//                                                             Img: `https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_600/${item?.card?.card?.info?.imageId}`,\r\n//                                                             Quantity: quantity,\r\n//                                                             RestaurantName: item?.card?.card?.restaurant?.info?.name, // Include RestaurantName\r\n//                                                         })\r\n//                                                     );\r\n//                                                     setQuantities({ ...quantities, [dishId]: 1 }); // Reset quantity after adding to cart\r\n//                                                 }}\r\n//                                                 className=\"restaurant-view\"\r\n//                                             >\r\n//                                                 Add to cart\r\n//                                             </button>\r\n//                                         </div>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </div>\r\n//                         );\r\n//                     })}\r\n//                 </div>\r\n//             </div>\r\n//             <ScrollToTopButton />\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default SearchDishes;\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}