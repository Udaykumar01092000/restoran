{"ast":null,"code":"// FilterContext.js\nimport React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const FilterContext=/*#__PURE__*/createContext();export const FilterProvider=_ref=>{let{children}=_ref;const[filters,setFilters]=useState([]);const[userSearch,setUserSearch]=useState('');const applyFilters=restaurants=>{let filtered=restaurants?[...restaurants]:[];if(filters.includes('fastDelivery')){filtered=filtered.sort((a,b)=>a.info.sla.deliveryTime-b.info.sla.deliveryTime);}if(filters.includes('ratinghightolow')){filtered=filtered.sort((a,b)=>b.info.avgRating-a.info.avgRating);}if(filters.includes('ratinglowtohigh')){filtered=filtered.sort((a,b)=>a.info.avgRating-b.info.avgRating);}if(userSearch){filtered=filtered.filter(restaurant=>restaurant.info.name.toLowerCase().includes(userSearch.toLowerCase()));}return filtered;};useEffect(()=>{// Reapply filters whenever filters or userSearch changes\napplyFilters();},[filters,userSearch]);return/*#__PURE__*/_jsx(FilterContext.Provider,{value:{filters,setFilters,applyFilters,userSearch,setUserSearch},children:children});};export const useFilters=()=>{return useContext(FilterContext);};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","FilterContext","FilterProvider","_ref","children","filters","setFilters","userSearch","setUserSearch","applyFilters","restaurants","filtered","includes","sort","a","b","info","sla","deliveryTime","avgRating","filter","restaurant","name","toLowerCase","Provider","value","useFilters"],"sources":["C:/Users/SANTHOSH/React_Applications/swiggy/src/components/filtercontext.js"],"sourcesContent":["// FilterContext.js\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst FilterContext = createContext();\r\n\r\nexport const FilterProvider = ({ children }) => {\r\n  const [filters, setFilters] = useState([]);\r\n  const [userSearch, setUserSearch] = useState('');\r\n\r\n  const applyFilters = (restaurants) => {\r\n    let filtered = restaurants ? [...restaurants] : [];\r\n  \r\n    if (filters.includes('fastDelivery')) {\r\n      filtered = filtered.sort((a, b) => a.info.sla.deliveryTime - b.info.sla.deliveryTime);\r\n    }\r\n  \r\n    if (filters.includes('ratinghightolow')) {\r\n      filtered = filtered.sort((a, b) => b.info.avgRating - a.info.avgRating);\r\n    }\r\n  \r\n    if (filters.includes('ratinglowtohigh')) {\r\n      filtered = filtered.sort((a, b) => a.info.avgRating - b.info.avgRating);\r\n    }\r\n  \r\n    if (userSearch) {\r\n      filtered = filtered.filter((restaurant) =>\r\n        restaurant.info.name.toLowerCase().includes(userSearch.toLowerCase())\r\n      );\r\n    }\r\n    return filtered;\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    // Reapply filters whenever filters or userSearch changes\r\n    applyFilters();\r\n  }, [filters, userSearch]);\r\n\r\n  return (\r\n    <FilterContext.Provider value={{ filters, setFilters, applyFilters, userSearch, setUserSearch }}>\r\n      {children}\r\n    </FilterContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useFilters = () => {\r\n  return useContext(FilterContext);\r\n};\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,aAAa,cAAGN,aAAa,CAAC,CAAC,CAErC,MAAO,MAAM,CAAAO,cAAc,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACzC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAY,YAAY,CAAIC,WAAW,EAAK,CACpC,GAAI,CAAAC,QAAQ,CAAGD,WAAW,CAAG,CAAC,GAAGA,WAAW,CAAC,CAAG,EAAE,CAElD,GAAIL,OAAO,CAACO,QAAQ,CAAC,cAAc,CAAC,CAAE,CACpCD,QAAQ,CAAGA,QAAQ,CAACE,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,IAAI,CAACC,GAAG,CAACC,YAAY,CAAGH,CAAC,CAACC,IAAI,CAACC,GAAG,CAACC,YAAY,CAAC,CACvF,CAEA,GAAIb,OAAO,CAACO,QAAQ,CAAC,iBAAiB,CAAC,CAAE,CACvCD,QAAQ,CAAGA,QAAQ,CAACE,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACC,IAAI,CAACG,SAAS,CAAGL,CAAC,CAACE,IAAI,CAACG,SAAS,CAAC,CACzE,CAEA,GAAId,OAAO,CAACO,QAAQ,CAAC,iBAAiB,CAAC,CAAE,CACvCD,QAAQ,CAAGA,QAAQ,CAACE,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,IAAI,CAACG,SAAS,CAAGJ,CAAC,CAACC,IAAI,CAACG,SAAS,CAAC,CACzE,CAEA,GAAIZ,UAAU,CAAE,CACdI,QAAQ,CAAGA,QAAQ,CAACS,MAAM,CAAEC,UAAU,EACpCA,UAAU,CAACL,IAAI,CAACM,IAAI,CAACC,WAAW,CAAC,CAAC,CAACX,QAAQ,CAACL,UAAU,CAACgB,WAAW,CAAC,CAAC,CACtE,CAAC,CACH,CACA,MAAO,CAAAZ,QAAQ,CACjB,CAAC,CAGDb,SAAS,CAAC,IAAM,CACd;AACAW,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACJ,OAAO,CAAEE,UAAU,CAAC,CAAC,CAEzB,mBACEP,IAAA,CAACC,aAAa,CAACuB,QAAQ,EAACC,KAAK,CAAE,CAAEpB,OAAO,CAAEC,UAAU,CAAEG,YAAY,CAAEF,UAAU,CAAEC,aAAc,CAAE,CAAAJ,QAAA,CAC7FA,QAAQ,CACa,CAAC,CAE7B,CAAC,CAED,MAAO,MAAM,CAAAsB,UAAU,CAAGA,CAAA,GAAM,CAC9B,MAAO,CAAA9B,UAAU,CAACK,aAAa,CAAC,CAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}