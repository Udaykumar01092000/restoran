{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { useFilters } from '../components/filtercontext';\n// import Shimmer from './shimmer';\n// import LocationSelector from '../components/location'; // Import LocationSelector component\n\n// const Home = ({ userSearch, setUserSearch, showModal, setShowModal }) => {\n//   const { filters, applyFilters } = useFilters();\n//   const [restaurants, setRestaurants] = useState([]);\n//   const [location, setLocation] = useState({\n//     lat: \"17.385044\",\n//     long: \"78.486671\"\n//   }); // Default location set to Hyderabad\n//   const [locationSelected, setLocationSelected] = useState(true); // Set to true initially\n//   const [loading, setLoading] = useState(false); // State to track loading status\n\n//   const handleLocationChange = (newLocation) => {\n//     setLocation(newLocation);\n//     setLocationSelected(true); // Set location selected to true when a radio button is clicked\n//   };\n\n//   useEffect(() => {\n//     if (locationSelected) {\n//       setLoading(true);\n//       setRestaurants([]);\n\n//       axios.get(`https://www.swiggy.com/dapi/restaurants/list/v5?lat=${location.lat}&lng=${location.long}&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING`)\n//         .then((res) => {\n//           const allRestaurants = res.data.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants;\n//           setRestaurants(allRestaurants);\n//           setLoading(false);\n//         })\n//         .catch(error => {\n//           console.error(\"Error fetching restaurant data:\", error);\n//           setLoading(false);\n//         });\n//     }\n//   }, [location, locationSelected]);\n\n//   useEffect(() => {\n//     setRestaurants(prevRestaurants => applyFilters(prevRestaurants));\n//   }, [filters, applyFilters]);\n\n//   // Filter restaurants based on userSearch\n//   const filteredRestaurants = restaurants.filter(restaurant =>\n//     restaurant.info.name.toLowerCase().includes(userSearch.toLowerCase())\n//   );\n\n//   const handleModalClose = () => {\n//     setShowModal(false); // Close modal\n//   };\n\n//   return (\n//     <div className=\"container-fluid\">\n//       <div className=\"row\">\n//         <div className=\"col-12\">\n//           <div className=\"row row-cols-1 row-cols-md-4 g-4\">\n//             {loading && locationSelected ? <Shimmer /> : null}\n//             {filteredRestaurants.map((item, i) => (\n//               <div className=\"col\" key={i}>\n//                 <div className=\"card h-100\">\n//                   <img className='card-img-top' src={`https://media-assets.swiggy.com/swiggy/image/upload/f1_lossy,f_auto,w_660/${item.info.cloudinaryImageId}`} className=\"card-img-top\" alt=\"...\" />\n//                   <div className=\"card-body\">\n//                     <h5 className=\"card-title\">{item.info.name}</h5>\n//                     <p className=\"card-text\">\n//                       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\n//                         <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n//                       </svg>\n//                       <span style={{ marginLeft: \"5px\" }}>{item.info.avgRating ? item.info.avgRating : item.avgRatingString}</span>\n//                       <span style={{ marginLeft: \"25px\" }}><i className=\"fa-solid fa-motorcycle\"></i>{\" \" + item.info.sla.slaString}</span>\n//                     </p>\n//                     <p style={{ marginBottom: \"0px\" }} className='card-text'>{item.info.cuisines.slice(0, 3).join(\" , \")}</p>\n//                     <p style={{ marginTop: \"5px\" }} className='card-text'>{item.info.areaName}</p>\n//                     <div className=\"d-flex justify-content-center\">\n//                       <button className='menubtn' id=\"searchbtn\">View Menu</button>\n//                     </div>\n//                   </div>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n//         </div>\n//       </div>\n//       {showModal && (\n//         <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" style={{ display: 'block' }}>\n//           <div className=\"modal-dialog\" role=\"document\">\n//             <div className=\"modal-content\">\n//               <div className=\"modal-header\">\n//                 <h5 className=\"modal-title\">Search Locations</h5>\n//                 <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={handleModalClose}>\n//                   <i className=\"fas fa-times\"></i>\n//                 </button>\n//               </div>\n//               <div className=\"modal-body\" style={{ maxHeight: \"200px\", overflowY: \"auto\" }}>\n//                 <LocationSelector handleLocationChange={handleLocationChange} handleModalClose = {handleModalClose} setLocation={setLocation}/>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Home;","map":{"version":3,"names":[],"sources":["C:/Users/SANTHOSH/React_Applications/swiggy/src/components/home.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n// import { useFilters } from '../components/filtercontext';\r\n// import Shimmer from './shimmer';\r\n// import LocationSelector from '../components/location'; // Import LocationSelector component\r\n\r\n// const Home = ({ userSearch, setUserSearch, showModal, setShowModal }) => {\r\n//   const { filters, applyFilters } = useFilters();\r\n//   const [restaurants, setRestaurants] = useState([]);\r\n//   const [location, setLocation] = useState({\r\n//     lat: \"17.385044\",\r\n//     long: \"78.486671\"\r\n//   }); // Default location set to Hyderabad\r\n//   const [locationSelected, setLocationSelected] = useState(true); // Set to true initially\r\n//   const [loading, setLoading] = useState(false); // State to track loading status\r\n\r\n//   const handleLocationChange = (newLocation) => {\r\n//     setLocation(newLocation);\r\n//     setLocationSelected(true); // Set location selected to true when a radio button is clicked\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (locationSelected) {\r\n//       setLoading(true);\r\n//       setRestaurants([]);\r\n\r\n//       axios.get(`https://www.swiggy.com/dapi/restaurants/list/v5?lat=${location.lat}&lng=${location.long}&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING`)\r\n//         .then((res) => {\r\n//           const allRestaurants = res.data.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants;\r\n//           setRestaurants(allRestaurants);\r\n//           setLoading(false);\r\n//         })\r\n//         .catch(error => {\r\n//           console.error(\"Error fetching restaurant data:\", error);\r\n//           setLoading(false);\r\n//         });\r\n//     }\r\n//   }, [location, locationSelected]);\r\n\r\n//   useEffect(() => {\r\n//     setRestaurants(prevRestaurants => applyFilters(prevRestaurants));\r\n//   }, [filters, applyFilters]);\r\n\r\n//   // Filter restaurants based on userSearch\r\n//   const filteredRestaurants = restaurants.filter(restaurant =>\r\n//     restaurant.info.name.toLowerCase().includes(userSearch.toLowerCase())\r\n//   );\r\n\r\n//   const handleModalClose = () => {\r\n//     setShowModal(false); // Close modal\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container-fluid\">\r\n//       <div className=\"row\">\r\n//         <div className=\"col-12\">\r\n//           <div className=\"row row-cols-1 row-cols-md-4 g-4\">\r\n//             {loading && locationSelected ? <Shimmer /> : null}\r\n//             {filteredRestaurants.map((item, i) => (\r\n//               <div className=\"col\" key={i}>\r\n//                 <div className=\"card h-100\">\r\n//                   <img className='card-img-top' src={`https://media-assets.swiggy.com/swiggy/image/upload/f1_lossy,f_auto,w_660/${item.info.cloudinaryImageId}`} className=\"card-img-top\" alt=\"...\" />\r\n//                   <div className=\"card-body\">\r\n//                     <h5 className=\"card-title\">{item.info.name}</h5>\r\n//                     <p className=\"card-text\">\r\n//                       <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\r\n//                         <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\r\n//                       </svg>\r\n//                       <span style={{ marginLeft: \"5px\" }}>{item.info.avgRating ? item.info.avgRating : item.avgRatingString}</span>\r\n//                       <span style={{ marginLeft: \"25px\" }}><i className=\"fa-solid fa-motorcycle\"></i>{\" \" + item.info.sla.slaString}</span>\r\n//                     </p>\r\n//                     <p style={{ marginBottom: \"0px\" }} className='card-text'>{item.info.cuisines.slice(0, 3).join(\" , \")}</p>\r\n//                     <p style={{ marginTop: \"5px\" }} className='card-text'>{item.info.areaName}</p>\r\n//                     <div className=\"d-flex justify-content-center\">\r\n//                       <button className='menubtn' id=\"searchbtn\">View Menu</button>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//             ))}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//       {showModal && (\r\n//         <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" style={{ display: 'block' }}>\r\n//           <div className=\"modal-dialog\" role=\"document\">\r\n//             <div className=\"modal-content\">\r\n//               <div className=\"modal-header\">\r\n//                 <h5 className=\"modal-title\">Search Locations</h5>\r\n//                 <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={handleModalClose}>\r\n//                   <i className=\"fas fa-times\"></i>\r\n//                 </button>\r\n//               </div>\r\n//               <div className=\"modal-body\" style={{ maxHeight: \"200px\", overflowY: \"auto\" }}>\r\n//                 <LocationSelector handleLocationChange={handleLocationChange} handleModalClose = {handleModalClose} setLocation={setLocation}/>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Home;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}