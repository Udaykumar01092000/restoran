{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import styles from'../components/location.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LocationSelector=_ref=>{let{handleLocationChange,handleModalClose,setLocation}=_ref;let[userLocationSearch,setUserLocationSearch]=useState(\"\");let[locationSuggestion,setLocationSuggestion]=useState([]);useEffect(()=>{axios.get(\"https://www.swiggy.com/dapi/misc/place-autocomplete?input=\".concat(userLocationSearch,\"&types=\")).then(res=>{if(res.data.data){setLocationSuggestion(res.data.data);}});},[userLocationSearch]);return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"search locations\",value:userLocationSearch,onChange:e=>{setUserLocationSearch(e.target.value);},name:\"locations\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),userLocationSearch!=\"\"?locationSuggestion.map((item,i)=>{return/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"location-name\",onClick:()=>{axios.get(\"https://www.swiggy.com/dapi/misc/address-recommend?place_id=\".concat(item.place_id)).then(res=>{let locationData=res.data.data[0].geometry.location;setLocation({lat:locationData.lat,long:locationData.lng});setLocationSuggestion([]);});},name:\"locations\"}),item.description,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}):\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"locationbtn\",onClick:handleModalClose,children:\"Change Location\"})]});};export default LocationSelector;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","jsx","_jsx","jsxs","_jsxs","LocationSelector","_ref","handleLocationChange","handleModalClose","setLocation","userLocationSearch","setUserLocationSearch","locationSuggestion","setLocationSuggestion","get","concat","then","res","data","style","textAlign","children","placeholder","value","onChange","e","target","name","map","item","i","type","className","onClick","place_id","locationData","geometry","location","lat","long","lng","description","class"],"sources":["C:/Users/SANTHOSH/React_Applications/swiggy/src/components/location.js"],"sourcesContent":["import React , {useState , useEffect} from 'react';\r\nimport axios from 'axios'\r\nimport styles from '../components/location.css'\r\n\r\nconst LocationSelector = ({ handleLocationChange  , handleModalClose , setLocation}) => {\r\n  \r\n  let [userLocationSearch , setUserLocationSearch] = useState(\"\")\r\n  let [locationSuggestion , setLocationSuggestion] = useState([])  \r\n\r\n  useEffect(()=>{\r\n    axios.get(`https://www.swiggy.com/dapi/misc/place-autocomplete?input=${userLocationSearch}&types=`)\r\n    .then((res)=>{\r\n        if(res.data.data)\r\n            {\r\n                setLocationSuggestion(res.data.data)\r\n            }\r\n        })\r\n    },[userLocationSearch])\r\n    return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <input\r\n        placeholder='search locations' \r\n        value = {userLocationSearch}\r\n        onChange={(e)=>{setUserLocationSearch(e.target.value)}}\r\n        name=\"locations\" />\r\n      <br />\r\n      <br />\r\n      {userLocationSearch != \"\" ?  locationSuggestion.map((item , i)=>{\r\n            return <label>\r\n            <input type=\"radio\" className=\"location-name\"\r\n             onClick={()=>{\r\n                axios.get(`https://www.swiggy.com/dapi/misc/address-recommend?place_id=${item.place_id}`)\r\n                .then((res)=>{\r\n                    let locationData = res.data.data[0].geometry.location\r\n                    setLocation({\r\n                        lat : locationData.lat,\r\n                        long : locationData.lng\r\n                    })\r\n                    setLocationSuggestion([])\r\n                })\r\n             }}\r\n             name=\"locations\" />\r\n            {item.description}<br/><br/>\r\n          </label>\r\n    \r\n      }) : \" \"}\r\n      <br/><br/>\r\n      <button type=\"button\" class=\"locationbtn\" onClick={handleModalClose}>Change Location</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationSelector;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAGC,SAAS,KAAO,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,4BAA4B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAA+D,IAA9D,CAAEC,oBAAoB,CAAIC,gBAAgB,CAAGC,WAAW,CAAC,CAAAH,IAAA,CAEjF,GAAI,CAACI,kBAAkB,CAAGC,qBAAqB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC/D,GAAI,CAACe,kBAAkB,CAAGC,qBAAqB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE/DC,SAAS,CAAC,IAAI,CACZC,KAAK,CAACe,GAAG,8DAAAC,MAAA,CAA8DL,kBAAkB,WAAS,CAAC,CAClGM,IAAI,CAAEC,GAAG,EAAG,CACT,GAAGA,GAAG,CAACC,IAAI,CAACA,IAAI,CACZ,CACIL,qBAAqB,CAACI,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC,CACxC,CACJ,CAAC,CAAC,CACN,CAAC,CAAC,CAACR,kBAAkB,CAAC,CAAC,CACvB,mBACAN,KAAA,QAAKe,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eAClCnB,IAAA,UACEoB,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAIb,kBAAmB,CAC5Bc,QAAQ,CAAGC,CAAC,EAAG,CAACd,qBAAqB,CAACc,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAE,CACvDI,IAAI,CAAC,WAAW,CAAE,CAAC,cACrBzB,IAAA,QAAK,CAAC,cACNA,IAAA,QAAK,CAAC,CACLQ,kBAAkB,EAAI,EAAE,CAAIE,kBAAkB,CAACgB,GAAG,CAAC,CAACC,IAAI,CAAGC,CAAC,GAAG,CAC1D,mBAAO1B,KAAA,UAAAiB,QAAA,eACPnB,IAAA,UAAO6B,IAAI,CAAC,OAAO,CAACC,SAAS,CAAC,eAAe,CAC5CC,OAAO,CAAEA,CAAA,GAAI,CACVlC,KAAK,CAACe,GAAG,gEAAAC,MAAA,CAAgEc,IAAI,CAACK,QAAQ,CAAE,CAAC,CACxFlB,IAAI,CAAEC,GAAG,EAAG,CACT,GAAI,CAAAkB,YAAY,CAAGlB,GAAG,CAACC,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CAACkB,QAAQ,CAACC,QAAQ,CACrD5B,WAAW,CAAC,CACR6B,GAAG,CAAGH,YAAY,CAACG,GAAG,CACtBC,IAAI,CAAGJ,YAAY,CAACK,GACxB,CAAC,CAAC,CACF3B,qBAAqB,CAAC,EAAE,CAAC,CAC7B,CAAC,CAAC,CACL,CAAE,CACFc,IAAI,CAAC,WAAW,CAAE,CAAC,CACnBE,IAAI,CAACY,WAAW,cAACvC,IAAA,QAAI,CAAC,cAAAA,IAAA,QAAI,CAAC,EACvB,CAAC,CAEZ,CAAC,CAAC,CAAG,GAAG,cACRA,IAAA,QAAI,CAAC,cAAAA,IAAA,QAAI,CAAC,cACVA,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAACW,KAAK,CAAC,aAAa,CAACT,OAAO,CAAEzB,gBAAiB,CAAAa,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAC1F,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}